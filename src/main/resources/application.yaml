spring:
  application:
    name: ${SPRING_APPLICATION_NAME:CommuteMate}
  datasource:
    url: ${DB_URL:jdbc:h2:mem:testdb;MODE=PostgreSQL;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=TRUE}
    username: ${DB_USERNAME:sa}
    password: ${DB_PASSWORD:}
    driver-class-name: ${DB_DRIVER:org.h2.Driver}
    hikari:
      maximum-pool-size: ${DB_POOL_SIZE:4}
  h2:
    console:
      enabled: true
      path: /h2-console
      # H2 웹 콘솔 활성화 (http://localhost:8080/h2-console) - JDBC URL: jdbc:h2:mem:testdb;MODE=PostgreSQL;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=TRUE
      # Swagger: http://localhost:8080/swagger-ui/index.html
  jackson:
    date-format: yyyy-MM-dd HH:mm

  # Gmail SMTP 설정
  mail:
    host: smtp.gmail.com
    port: 587
    username: ${MAIL_USERNAME:1}  # Gmail 계정 (예: your-email@gmail.com)
    password: ${MAIL_PASSWORD:1}  # Gmail 앱 비밀번호 (16자리)
    properties:
      mail:
        smtp:
          auth: true
          starttls:
            enable: true
            required: true
          connectiontimeout: 5000
          timeout: 5000
          writetimeout: 5000

  jpa:
    database-platform: ${JPA_DATABASE_PLATFORM:org.hibernate.dialect.H2Dialect}
    hibernate:
      ddl-auto: ${JPA_DDL_AUTO:create-drop}
      # create-drop: 시작 시 생성, 종료 시 삭제 (H2용)
      # update: 기존 스키마 유지하며 변경사항만 반영 (PostgreSQL용)
    show-sql: true
app:
  # 프론트엔드 URL (이메일 인증 링크에 사용)
  frontend:
    url: ${FRONTEND_URL:http://localhost:3000}
  cors:
    additional-origins: ${CORS_ADDITIONAL_ORIGINS:}
  schedule:
    concurrent:
      max: ${SCHEDULE_CONCURRENT_MAX:5}

springdoc:
  swagger-ui:
    server-url: ${SWAGGER_SERVER_URL:http://localhost:8080}

jwt:
  secret: ${JWT_SECRET:your-secret-key-change-in-production}
  access-expiration: ${JWT_ACCESS_EXPIRATION_MS:3600000}
  refresh-expiration: ${JWT_REFRESH_EXPIRATION_MS:604800000}
  algorithm: ${JWT_ALGORITHM:HmacSHA256}